<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/main_layout}">

<head></head>
<body>
<div layout:fragment="main">

    <div class="container">

        <!--Show this info message only if registered successfully-->
        <div class="alert alert-info" th:if="${successMessage}" th:utext="${successMessage}"></div>

        <div class="row" style="margin-top:20px">
            <div class="col-xs-12 col-sm-8 col-md-6 col-sm-offset-2 col-md-offset-3">
                <form autocomplete="off" action="#" th:action="@{/user/register}"
                      th:object="${user}" method="post" role="form">

                    <div class="form-group">
                        <label th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"
                               class="alert alert-danger"></label>
                        <input type="text" name="firstName" th:field="*{firstName}" placeholder="First Name"
                               class="form-control input-lg"/>
                    </div>

                    <div class="form-group">
                        <label th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"
                               class="alert alert-danger"></label>
                        <input type="text" name="lastName" th:field="*{lastName}" placeholder="Last Name"
                               class="form-control input-lg"/>
                    </div>

                    <div class="form-group">
                        <label th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                               class="alert alert-danger"></label>
                        <input type="text" name="email" th:field="*{email}" placeholder="Email"
                               class="form-control input-lg"/>
                    </div>


                    <div class="form-group">
                        <label th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
                               class="alert alert-danger"></label>
                        <input type="password" name="password" th:field="*{password}" placeholder="Password"
                               class="form-control input-lg"/>
                    </div>

                    <div class="form-group">

                        <select th:field="*{role}">
                            <option th:each="role: ${roles}" th:value="${role.id}" th:label="${role.role}"></option>
                        </select>
                    </div>

                    <h3>Address</h3>
                    <div>
                        <div class="form-group">
                            <label th:if="${#fields.hasErrors('billingAddress.street')}" th:errors="*{billingAddress.street}"
                                   class="alert alert-danger"></label>
                            <input type="text" name="street" th:field="*{billingAddress.street}" placeholder="Street"
                                   class="form-control input-lg"/>
                        </div>

                        <div class="form-group">
                            <label th:if="${#fields.hasErrors('billingAddress.city')}" th:errors="*{billingAddress.city}"
                                   class="alert alert-danger"></label>
                            <input type="text" name="city" th:field="*{billingAddress.city}" placeholder="City"
                                   class="form-control input-lg"/>
                        </div>

                        <div class="form-group">
                            <label th:if="${#fields.hasErrors('billingAddress.state')}" th:errors="*{billingAddress.state}"
                                   class="alert alert-danger"></label>
                            <input type="text" name="state" th:field="*{billingAddress.state}" placeholder="State"
                                   class="form-control input-lg"/>
                        </div>

                        <div class="form-group">
                            <label th:if="${#fields.hasErrors('billingAddress.zipCode')}" th:errors="*{billingAddress.zipCode}"
                                   class="alert alert-danger"></label>
                            <input type="text" name="zipCode" th:field="*{billingAddress.zipCode}" placeholder="ZipCode"
                                   class="form-control input-lg"/>
                        </div>
                        <div class="form-group">
                            <label th:if="${#fields.hasErrors('billingAddress.country')}" th:errors="*{billingAddress.country}"
                                   class="alert alert-danger"></label>
                            <input type="text" name="country" th:field="*{billingAddress.country}" placeholder="Country"
                                   class="form-control input-lg"/>
                        </div>

                    </div>


                    <h3>Account Details:</h3>
                    <div>
                        <div class="form-group">
                            <label th:if="${#fields.hasErrors('account.cardType')}" th:errors="*{account.cardType}"
                                   class="alert alert-danger"></label>
                          <select th:field="*{account.cardType}">
                              <option th:value="Credit" th:label="Credit"></option>
                              <option th:value="Debit" th:label="Debit"></option>
                              <option th:value="Visa" th:label="Visa"></option>
                          </select>
                        </div>

                        <div class="form-group">
                            <label th:if="${#fields.hasErrors('account.number')}" th:errors="*{account.number}"
                                   class="alert alert-danger"></label>
                            <input type="text" name="number" th:field="*{account.number}" placeholder="Number"
                                   class="form-control input-lg"/>
                        </div>

                        <div class="form-group">
                            <label th:if="${#fields.hasErrors('account.csv')}" th:errors="*{account.csv}"
                                   class="alert alert-danger"></label>
                            <input type="text" name="csv" th:field="*{account.csv}" placeholder="CSV"
                                   class="form-control input-lg"/>
                        </div>

                        <div class="form-group">
                            <label th:if="${#fields.hasErrors('account.expiryDate')}" th:errors="*{account.expiryDate}"
                                   class="alert alert-danger"></label>
                            <input type="text" name="expiryDate" th:field="*{account.expiryDate}" placeholder="Expiry Date"
                                   class="form-control input-lg"/>
                        </div>

                    </div>



                    <div class="row">
                        <div class="col-sm-3" style="float: none; margin: 0 auto;">
                            <input type="submit" class="btn btn-primary btn-block" value="Submit"/>
                        </div>
                    </div>

                </form>
            </div>
        </div>

    </div>
</div>
</body>
</html>
